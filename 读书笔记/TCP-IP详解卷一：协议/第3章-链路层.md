## 第3章 链路层
+ 以太网标准
    - 以太网是一套用于局域网内站点之间通过共享的链路如何进行通信的标准
    - 以太网在任何给定时间内只允许一个帧传输，因此以太网为了避免冲突采用带冲突检测的载波侦听多路访问（CSMA/CD）来避免冲突
        1. 发送方在发送之前会先检测介质是否处于空闲状态
        2. 介质处于空闲状态时发送方开始发送帧，否则发送方随机等待一个时间
        3. 如果发送方在发送帧后另外某些站点也发送了帧，那么表示发生碰撞
        4. 发生碰撞的站点随机等待一个时间
    - 以太网帧
        1. 以太网帧包含源地址和目的地址，其中目的地址可以是广播mac地址，这样二层交换机可以在一个广播域中广播此帧
        2. 以太网帧包含4字节的帧校验序列，以太网帧通过crc32来检验帧在传输过程中没有发生差错
        3. 包含vlanID，支持vlan的交换机可以根据vlanID来转发流量
        4. 帧大小具有限制，一般最小为64字节，原因是需要确保在发送过程中发生的冲突在到达发送方时，发送方仍然在传输当前帧，因此需要确保传输时延足够大。
    - 以太网支持链路聚合，对于多网络接口的站点，可以把多个网络接口绑定为一个逻辑网络接口，该接口的流量将会通过一定的算法交给某个物理网络接口进行转发，这样能够增加链路带宽
+ 无线局域网标准
    - 无线局域网是站点通过扫描当前环境下可用的网络并且严重身份后加入，接入点为其提供网络服务
    - 无线局域网支持帧聚合和分片已降低传输过程中出错的概率，减少重传，聚合是接收方完成，分片由发送方完成。发送方将原始帧分成多个分片，每个分片都包含mac头部和crc，接收方将同一个序列号的分片按照分片号聚合成原始帧
    - 无线局域网使用带冲突避免的载波侦听多路访问（CSMA/CA）
        1. 接入无线局域网的站点本地都会持有一个网络分配向量（NAV），在局域网中传输的帧有持续时间字段，站点会检查该字段并且和NAV比较，如果大于NAV，就会修改NAV，并且NAV会随着时间递减，当NAV为0时任务信道处于空闲状态
        2. 信道处于空闲状态时，会先等待一段时间，如果该时间内信道仍旧处于空闲状态就会发送数据，否则随机等待一个时间
        3. 接收方在接受到数据后，会发送ACK给对端
+ 二层交换机（网桥）
    - 交换机是具有多个端口的设备，并且可以将端口A接受到数据根据一定的规则转发到其他端口
    - 交换机具有mac地址学习，交换机通过接收到帧头部，在内部维护一张表，表示mac地址和端口的映射
    - 为了避免交换机链路发生问题后导致网络不同，因此一个广播域中一般会存在多条冗余链路，但是使得网络中可能存在环，当广播帧被交换机进行转发时，会导致循环帧，mac表震荡，重复帧问题，可以使用生成树协议保证链路中无环
        1. 通过桥ID来选出根网桥
        2. 其他网桥根据端口到根网桥的花费选择根端口，根端口负责接受和转发BPDU
        3. 每个网段只有一个指定端口，指定端口负责转发数据
        4. 其他端口处于阻塞状态
+ 点到点协议（PPP）
    - 点到点协议是非局域网下的链路层协议，点到点协议只关心两端两端，也就是数据只会在链路两端的站点之间进行传输
    - 在链路之间传输数据之前需要进行LCP握手以确保链路点到点链路达到工作的最低要求
+ 隧道
    - 隧道是互联网中两台计算机建立一条虚拟的链路
    - 在高层协议的PDU中携带链路层PDU来维护这条虚拟链路

+ 参考连接
    - [以太网最小帧长度](https://blog.csdn.net/rainertop/article/details/3020315?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.add_param_isCf&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.add_param_isCf)
    - [生成树协议](https://www.qingsword.com/qing/636.html)
    